<!doctype html>
<html><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Auth · NovelHub Pro</title>
<link rel="stylesheet" href="styles.css"/>
</head><body>
<header class="nav container"><div class="brand"><div class="logo"></div><h1>Auth</h1></div><div class="actions"><a href="index.html">Home</a></div></header>
<main class="container" style="max-width:560px">
  <div class="article">
    <h2>Sign up</h2>
    <input id="su_email" type="email" placeholder="you@example.com"><br><br>
    <input id="su_pass" type="password" placeholder="••••••••"><br><br>
    <button class="btn" id="signup">Create account</button>
    <p class="meta">Check your email to confirm.</p>
  </div>
  <div class="article">
    <h2>Log in</h2>
    <input id="li_email" type="email" placeholder="you@example.com"><br><br>
    <input id="li_pass" type="password" placeholder="••••••••"><br><br>
    <button class="btn" id="login">Log in</button>
  </div>
  <p class="meta">In DEMO mode (no config.js), auth is disabled.</p>
</main>
<script type="module">
import { sb, DEMO } from './js/supabaseClient.js';
if (!DEMO){
  document.getElementById('signup').onclick = async ()=>{
    const { error } = await sb.auth.signUp({ email: su_email.value, password: su_pass.value });
    alert(error? error.message : 'Check your email.');
  };
  document.getElementById('login').onclick = async ()=>{
    const { error } = await sb.auth.signInWithPassword({ email: li_email.value, password: li_pass.value });
    if (error) return alert(error.message); location.href='index.html';
  };
} else {
  document.getElementById('signup').onclick = ()=>alert('Auth disabled in DEMO mode');
  document.getElementById('login').onclick = ()=>alert('Auth disabled in DEMO mode');
}
</script>
</body></html>
