
<!doctype html><html><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>NovelHub — Auth</title>
<link rel="stylesheet" href="styles.css">
<script src="https://unpkg.com/@supabase/supabase-js@2.44.4/dist/umd/supabase.js"></script>
<script src="js/supabaseClient.js"></script><script src="js/common.js"></script>
</head><body>
<script>renderNav()</script>
<div class="container" style="max-width:940px">
  <div class="card">
    <h1>Welcome</h1>
    <div class="grid" style="grid-template-columns:1fr 1fr">
      <div>
        <h3>Log in</h3>
        <label>Email</label><input class="input" id="lemail"><label>Password</label><input class="input" id="lpass" type="password">
        <div style="margin-top:10px"><button class="btn primary" id="loginBtn">Log in</button></div>
      </div>
      <div>
        <h3>Create account</h3>
        <label>Email</label><input class="input" id="semail"><label>Password</label><input class="input" id="spass" type="password">
        <div style="margin-top:10px"><button class="btn ok" id="signupBtn">Create account</button></div>
        <p class="small">If confirmation is required, check your inbox.</p>
      </div>
    </div>
  </div>
</div>
<script>
el('#loginBtn').onclick=async()=>{
  const e=el('#lemail').value.trim(), p=el('#lpass').value; if(!e||!p) return toast('Email + password');
  const {error}=await sb.auth.signInWithPassword({email:e,password:p}); if(error) return toast(error.message);
  toast('Logged in ✓',true); setTimeout(()=>location.href='index.html',500);
};
el('#signupBtn').onclick=async()=>{
  const e=el('#semail').value.trim(), p=el('#spass').value; if(!e||!p) return toast('Email + password');
  const {error}=await sb.auth.signUp({email:e,password:p}); if(error) return toast(error.message);
  toast('Check your email',true);
};
</script>
</body></html>
